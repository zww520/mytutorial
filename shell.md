---
title: shell教程
date: 2024-02-23
categories:
 - blog
---
### 目录
- shell简介
- shell变量
- shell控制流
- shell循环
- shell函数
- shell配置文件
- shell特殊方法

### shell简介
shell作为一个命令解释器，将用户的命令解释后传递给内核执行并输出执行结果。常见的shell有sh、bash和nologin等，其中bash是最常用的一种shell。
### shell变量

**变量分类**
- 自定义变量：用户自定义的变量
- 环境变量：系统环境变量，如USER等
- 位置变量：传递给脚本的参数，如$0等
- 预定义变量：内置变量，如$?等

**自定义变量**

通过'$'定义的变量

- $var=5 定义var变量并赋值

**环境变量**

shell初始化时设置的变量

- $USER 当前用户
- $PWD  当前路径

**位置变量**

传递给脚本的参数
- $0 当前脚本名
- $1 传入的第一个参数

**预定义变量**

内置变量
- $? 表示上一条命令执行状态
- $# 表示脚本传入的参数个数
- $* 传入的参数
- $@ 传入的参数

**变量类型**
- 数值型
- 字符串型
- 数组型

数组型变量操作


要点：
- 单号包含的变量将不会扩展，如’$a‘直接表示为$a
- 获取命令执行结果可以通过res=$(echo 123)这个形式获得
- $? 表示上一条命令执行状态
- $# 表示脚本传入的参数个数
- $* 传入的参数
- $@ 传入的参数
- $n（n>1） 表示第n个参数值， $0为脚本名
- ${#arr\[@]} 获取arr数组长度
- ${arr\[@]} 用于for循环变量arr数组
- arr=(arr, var)  # 添加var到数组
- $((n+1)) # 变量+1
- $((n++)) # 变量++
- $(expr $n \* 3)  # 变量*3，对*需要进行转义 
#### 自定义变量
定义方式
- var=123
- var='123456'
- var="123456"

获取变量
- var=123 # 123
- var=“123” # 123
- var='$var' # $var
- var=$(echo 123)  # 123

#### 环境变量
- 环境变量可在配置文件里设置
- 可以通过export变量作为子shell的环境变量
- 可以通过env命令查看环境变量

#### 数组
数组定义
- arr=()
 
数组操作
- arr=(arr, var)  # 添加var到数组
-  ${#arr\[@]}  # 获取var数组长度
-  ${arr\[@]}  # 用于for循环变量var数组
- 最好通过重新创建数组的方法，删除数组里的某个元素

#### 变量操作
整型操作
- $((n+1))
- $((n-1))
-  $((n*1))
- $((n/1))
- $((n++)) # 变量++
- $(expr $n \* 3)  # 对*需要进行转义

### shell控制流

### shell函数

###  shell特殊方法

